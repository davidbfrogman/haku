"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const log = require("winston");
const config_1 = require("./config");
const constants_1 = require("../constants");
let jackrabbit = require('jackrabbit');
let url = config_1.Config.active.get('ampq.ampqConnectionString');
let rabbit = jackrabbit(url);
exports.rabbit = rabbit;
log.info(`Connected to RabbitMQ on url:${url}`);
let exchange = rabbit.default();
exports.exchange = exchange;
let queue = exchange.queue({ name: constants_1.CONST.ALEMBIC_API_Q_BACKPLANE, durable: true, prefetch: 1 });
exports.queue = queue;
log.info(`Started Queue Name:${constants_1.CONST.ALEMBIC_API_Q_BACKPLANE}`);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZlYnJvd24vRG9jdW1lbnRzL2hha3Uvc2VydmVyL2NvbmZpZy9xdWV1ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLCtCQUFnQztBQUNoQyxxQ0FBaUM7QUFDakMsNENBQXFDO0FBRXJDLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUN2QyxJQUFJLEdBQUcsR0FBRyxlQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBRXpELElBQUksTUFBTSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQVFwQix3QkFBTTtBQVBmLEdBQUcsQ0FBQyxJQUFJLENBQUMsZ0NBQWdDLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFFaEQsSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBS2YsNEJBQVE7QUFIekIsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksRUFBRSxpQkFBSyxDQUFDLHVCQUF1QixFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7QUFHcEUsc0JBQUs7QUFGaEMsR0FBRyxDQUFDLElBQUksQ0FBQyxzQkFBc0IsaUJBQUssQ0FBQyx1QkFBdUIsRUFBRSxDQUFDLENBQUMiLCJmaWxlIjoiY29uZmlnL3F1ZXVlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZyA9IHJlcXVpcmUoJ3dpbnN0b24nKTtcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IHsgQ09OU1QgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5sZXQgamFja3JhYmJpdCA9IHJlcXVpcmUoJ2phY2tyYWJiaXQnKTtcbmxldCB1cmwgPSBDb25maWcuYWN0aXZlLmdldCgnYW1wcS5hbXBxQ29ubmVjdGlvblN0cmluZycpO1xuXG5sZXQgcmFiYml0ID0gamFja3JhYmJpdCh1cmwpO1xubG9nLmluZm8oYENvbm5lY3RlZCB0byBSYWJiaXRNUSBvbiB1cmw6JHt1cmx9YCk7XG5cbmxldCBleGNoYW5nZSA9IHJhYmJpdC5kZWZhdWx0KCk7XG5cbmxldCBxdWV1ZSA9IGV4Y2hhbmdlLnF1ZXVlKHsgbmFtZTogQ09OU1QuQUxFTUJJQ19BUElfUV9CQUNLUExBTkUsIGR1cmFibGU6IHRydWUsIHByZWZldGNoOjEgfSk7XG5sb2cuaW5mbyhgU3RhcnRlZCBRdWV1ZSBOYW1lOiR7Q09OU1QuQUxFTUJJQ19BUElfUV9CQUNLUExBTkV9YCk7XG5cbmV4cG9ydCB7IHJhYmJpdCwgZXhjaGFuZ2UsIHF1ZXVlIH07Il19
