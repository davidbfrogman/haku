"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
const constants_1 = require("../../constants");
class BaseRouter {
    getRouter() {
        this.router.all(`${this.resource}`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            // You can put logic here that needs to be run for every request.
            next();
        }))
            .get(`${this.resource}`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            yield this.controller.list(request, response, next);
        }))
            .get(`${this.resource}${constants_1.CONST.ep.MINE}`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            yield this.controller.listByOwner(request, response, next);
        }))
            .post(`${this.resource}/query`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            yield this.controller.query(request, response, next);
        }))
            .get(`${this.resource}/blank`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            this.controller.blank(request, response, next);
        }))
            .get(`${this.resource}/utility`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            this.controller.utility(request, response, next);
        }))
            .get(`${this.resource}/count`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            yield this.controller.count(request, response, next);
        }))
            .delete(`${this.resource}/clear`, (request, response, next) => {
            this.controller.clear(request, response, next);
        })
            .get(`${this.resource}/:id`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            yield this.controller.single(request, response, next);
        }))
            .post(`${this.resource}`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            yield this.controller.create(request, response, next);
        }))
            .put(`${this.resource}/:id`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            yield this.controller.updateFull(request, response, next);
        }))
            .patch(`${this.resource}/:id`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            yield this.controller.updatePartial(request, response, next);
        }))
            .delete(`${this.resource}/:id`, (request, response, next) => __awaiter(this, void 0, void 0, function* () {
            yield this.controller.destroy(request, response, next);
        }));
        return this.router;
    }
}
exports.BaseRouter = BaseRouter;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZlYnJvd24vRG9jdW1lbnRzL2hha3Uvc2VydmVyL3JvdXRlcnMvYmFzZS9iYXNlLnJvdXRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBT0EsK0NBQXdDO0FBRXhDO0lBS2UsU0FBUztRQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQU8sT0FBZ0IsRUFBRSxRQUFrQixFQUFFLElBQWtCLEVBQUUsRUFBRTtZQUMvRixpRUFBaUU7WUFDakUsSUFBSSxFQUFFLENBQUM7UUFDWCxDQUFDLENBQUEsQ0FBQzthQUVHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFPLE9BQWdCLEVBQUUsUUFBa0IsRUFBRSxJQUFrQixFQUFFLEVBQUU7WUFDcEYsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVELENBQUMsQ0FBQSxDQUFDO2FBQ0QsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFPLE9BQWdCLEVBQUUsUUFBa0IsRUFBRSxJQUFrQixFQUFFLEVBQUU7WUFDeEcsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9ELENBQUMsQ0FBQSxDQUFDO2FBRUQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsUUFBUSxFQUFFLENBQU8sT0FBZ0IsRUFBRSxRQUFrQixFQUFFLElBQWtCLEVBQUUsRUFBRTtZQUMzRixNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDN0QsQ0FBQyxDQUFBLENBQUM7YUFFRCxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxRQUFRLEVBQUUsQ0FBTyxPQUFnQixFQUFFLFFBQWtCLEVBQUUsSUFBa0IsRUFBRSxFQUFFO1lBQzFGLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkQsQ0FBQyxDQUFBLENBQUM7YUFDRCxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxVQUFVLEVBQUUsQ0FBTyxPQUFnQixFQUFFLFFBQWtCLEVBQUUsSUFBa0IsRUFBRSxFQUFFO1lBQzVGLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekQsQ0FBQyxDQUFBLENBQUM7YUFFRCxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxRQUFRLEVBQUUsQ0FBTyxPQUFnQixFQUFFLFFBQWtCLEVBQUUsSUFBa0IsRUFBRSxFQUFFO1lBQzFGLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM3RCxDQUFDLENBQUEsQ0FBQzthQUVELE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLFFBQVEsRUFBRSxDQUFDLE9BQWdCLEVBQUUsUUFBa0IsRUFBRSxJQUFrQixFQUFFLEVBQUU7WUFDdkYsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2RCxDQUFDLENBQUM7YUFFRCxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxNQUFNLEVBQUUsQ0FBTyxPQUFnQixFQUFFLFFBQWtCLEVBQUUsSUFBa0IsRUFBRSxFQUFFO1lBQ3hGLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM5RCxDQUFDLENBQUEsQ0FBQzthQUVELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFPLE9BQWdCLEVBQUUsUUFBa0IsRUFBRSxJQUFrQixFQUFFLEVBQUU7WUFDckYsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzlELENBQUMsQ0FBQSxDQUFDO2FBRUQsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsTUFBTSxFQUFFLENBQU8sT0FBZ0IsRUFBRSxRQUFrQixFQUFFLElBQWtCLEVBQUUsRUFBRTtZQUN4RixNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEUsQ0FBQyxDQUFBLENBQUM7YUFFRCxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxNQUFNLEVBQUUsQ0FBTyxPQUFnQixFQUFFLFFBQWtCLEVBQUUsSUFBa0IsRUFBRSxFQUFFO1lBQzFGLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyRSxDQUFDLENBQUEsQ0FBQzthQUVELE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLE1BQU0sRUFBRSxDQUFPLE9BQWdCLEVBQUUsUUFBa0IsRUFBRSxJQUFrQixFQUFFLEVBQUU7WUFDM0YsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9ELENBQUMsQ0FBQSxDQUFDLENBQUM7UUFHWCxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUMzQixDQUFDO0NBQ1I7QUE1REQsZ0NBNERDIiwiZmlsZSI6InJvdXRlcnMvYmFzZS9iYXNlLnJvdXRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UsIFJlcXVlc3RIYW5kbGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBSZXF1ZXN0SGFuZGxlclBhcmFtcywgTmV4dEZ1bmN0aW9uIH0gZnJvbSAnZXhwcmVzcy1zZXJ2ZS1zdGF0aWMtY29yZSc7XG5pbXBvcnQgeyBJbmNvbWluZ01lc3NhZ2UgfSBmcm9tICdodHRwJztcbmltcG9ydCB7IEJhc2VDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlcnMvYmFzZS9iYXNlLmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgU2NoZW1hLCBNb2RlbCwgRG9jdW1lbnQgfSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgeyBCYXNlUmVwb3NpdG9yeSB9IGZyb20gXCIuLi8uLi9yZXBvc2l0b3JpZXNcIjtcbmltcG9ydCB7IENPTlNUIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VSb3V0ZXJ7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBjb250cm9sbGVyOiBCYXNlQ29udHJvbGxlcjtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IHJvdXRlcjogUm91dGVyO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgcmVzb3VyY2U6IHN0cmluZztcblxuICAgICAgICBwdWJsaWMgZ2V0Um91dGVyKCk6IFJvdXRlciB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIuYWxsKGAke3RoaXMucmVzb3VyY2V9YCwgYXN5bmMgKHJlcXVlc3Q6IFJlcXVlc3QsIHJlc3BvbnNlOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBZb3UgY2FuIHB1dCBsb2dpYyBoZXJlIHRoYXQgbmVlZHMgdG8gYmUgcnVuIGZvciBldmVyeSByZXF1ZXN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGlzdGluZyBPcGVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoYCR7dGhpcy5yZXNvdXJjZX1gLCBhc3luYyAocmVxdWVzdDogUmVxdWVzdCwgcmVzcG9uc2U6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb250cm9sbGVyLmxpc3QocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoYCR7dGhpcy5yZXNvdXJjZX0ke0NPTlNULmVwLk1JTkV9YCwgYXN5bmMgKHJlcXVlc3Q6IFJlcXVlc3QsIHJlc3BvbnNlOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb250cm9sbGVyLmxpc3RCeU93bmVyKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBRdWVyeSBPcGVyYXRpb24gZm9yIHNlbmRpbmcgYSBwb3N0IHF1ZXJ5IGpzb24gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAucG9zdChgJHt0aGlzLnJlc291cmNlfS9xdWVyeWAsIGFzeW5jIChyZXF1ZXN0OiBSZXF1ZXN0LCByZXNwb25zZTogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvbnRyb2xsZXIucXVlcnkocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYW5rIE9wZXJhdGlvbiBmb3IgcmV0dXJuaW5nIGEgYmxhbmsgbmV3J2QgdXAgb2JqZWN0LiBVc2VmdWwgZm9yIHNlZWluZyBkZWZhdWx0cyBvbiBhbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoYCR7dGhpcy5yZXNvdXJjZX0vYmxhbmtgLCBhc3luYyAocmVxdWVzdDogUmVxdWVzdCwgcmVzcG9uc2U6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmJsYW5rKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KGAke3RoaXMucmVzb3VyY2V9L3V0aWxpdHlgLCBhc3luYyAocmVxdWVzdDogUmVxdWVzdCwgcmVzcG9uc2U6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLnV0aWxpdHkocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50IE9wZXJhdGlvbiBmb3Igc2VlaW5nIGhvdyBtYW55IG9mIGEgcmVzb3VyY2UgdGhlcmUgaXMsIHdoaWNoIGFjY2VwdHMgcXVlcnkgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KGAke3RoaXMucmVzb3VyY2V9L2NvdW50YCwgYXN5bmMgKHJlcXVlc3Q6IFJlcXVlc3QsIHJlc3BvbnNlOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29udHJvbGxlci5jb3VudChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXJzIHRoZSBlbnRpcmUgY29sbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLmRlbGV0ZShgJHt0aGlzLnJlc291cmNlfS9jbGVhcmAsIChyZXF1ZXN0OiBSZXF1ZXN0LCByZXNwb25zZTogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuY2xlYXIocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBTaW5nbGUgT3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KGAke3RoaXMucmVzb3VyY2V9LzppZGAsIGFzeW5jIChyZXF1ZXN0OiBSZXF1ZXN0LCByZXNwb25zZTogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvbnRyb2xsZXIuc2luZ2xlKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgTmV3IE9wZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLnBvc3QoYCR7dGhpcy5yZXNvdXJjZX1gLCBhc3luYyAocmVxdWVzdDogUmVxdWVzdCwgcmVzcG9uc2U6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb250cm9sbGVyLmNyZWF0ZShyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlcyBhIHNpbmdsZSByZXNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnB1dChgJHt0aGlzLnJlc291cmNlfS86aWRgLCBhc3luYyAocmVxdWVzdDogUmVxdWVzdCwgcmVzcG9uc2U6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb250cm9sbGVyLnVwZGF0ZUZ1bGwocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhdGNoZXMgYSBzaW5nbGUgcmVzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5wYXRjaChgJHt0aGlzLnJlc291cmNlfS86aWRgLCBhc3luYyAocmVxdWVzdDogUmVxdWVzdCwgcmVzcG9uc2U6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb250cm9sbGVyLnVwZGF0ZVBhcnRpYWwocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZXMgYSBzaW5nbGUgcmVzb3VyY2UgYnkgaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kZWxldGUoYCR7dGhpcy5yZXNvdXJjZX0vOmlkYCwgYXN5bmMgKHJlcXVlc3Q6IFJlcXVlc3QsIHJlc3BvbnNlOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29udHJvbGxlci5kZXN0cm95KHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXI7XG4gICAgICAgIH1cbn0iXX0=
